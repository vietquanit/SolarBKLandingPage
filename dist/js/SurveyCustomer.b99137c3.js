"use strict";(self["webpackChunksolar_bk_landing_page"]=self["webpackChunksolar_bk_landing_page"]||[]).push([[965],{5074:function(t,e,s){s.d(e,{Z:function(){return g}});var a=s(3396);const i={class:"grid"},n=(0,a._)("div",{class:"col-12 flex"},[(0,a._)("img",{src:"https://solarbk.vn/uploads/images/2020/12/01/logo-solarbk.png",class:"rounded d-block align-items-start",alt:"..."})],-1),o=[n];function l(t,e,s,n,l,u){return(0,a.wg)(),(0,a.iD)("div",i,o)}var u={name:"HeaderComponent"},r=s(89);const c=(0,r.Z)(u,[["render",l]]);var g=c},9529:function(t,e,s){s.d(e,{Z:function(){return b}});var a=s(3396),i=s(7139);const n={class:"col-12 overflow-auto"},o={id:"custom-table"},l=(0,a._)("th",null,null,-1),u={key:0,class:"text-left"},r={key:1,class:"text-left"},c={key:2,class:"text-left"},g={key:0},h={key:1},d={key:0,class:"text-left pl-4"},m={key:1,class:"text-left pl-4"},p={key:2,class:"text-left pl-4"};function k(t,e,s,k,w,v){const y=(0,a.up)("RadioButton");return(0,a.wg)(),(0,a.iD)("div",n,[(0,a._)("table",o,[(0,a._)("thead",null,[(0,a._)("tr",null,[l,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.listMarks,((t,e)=>((0,a.wg)(),(0,a.iD)("th",{key:"mark-"+e},(0,i.zw)(t.key),1)))),128))])]),(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.listQuestions,((t,e)=>((0,a.wg)(),(0,a.iD)(a.HY,{key:"question-"+e},[(0,a._)("tr",null,[t.hasOwnProperty("Cauhoicuaphongbankhacdanhgia")?((0,a.wg)(),(0,a.iD)("td",u," Câu "+(0,i.zw)(t["STT"])+" : "+(0,i.zw)(t["Cauhoicuaphongbankhacdanhgia"]),1)):t.hasOwnProperty("Cauhoituhoi")?((0,a.wg)(),(0,a.iD)("td",r," Câu "+(0,i.zw)(t["STT"])+" : "+(0,i.zw)(t["Cauhoituhoi"]),1)):t.hasOwnProperty("Cauhoi")?((0,a.wg)(),(0,a.iD)("td",c," Câu "+(0,i.zw)(t["STT"])+" : "+(0,i.zw)(t["Cauhoi"]),1)):(0,a.kq)("",!0),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.listMarks,((s,i)=>((0,a.wg)(),(0,a.iD)(a.HY,{key:"question-"+e+"-mark-"+i},[0===t["Cauhoinho"].length?((0,a.wg)(),(0,a.iD)("td",g,[(0,a.Wm)(y,{name:"radio-question-"+e+"-mark"+i,value:s.value,modelValue:t["Cautraloi"],"onUpdate:modelValue":e=>t["Cautraloi"]=e,onChange:e=>v.selectMark(t["STT"],s.value)},null,8,["name","value","modelValue","onUpdate:modelValue","onChange"])])):((0,a.wg)(),(0,a.iD)("td",h))],64)))),128))]),t["Cauhoinho"].length>0?((0,a.wg)(!0),(0,a.iD)(a.HY,{key:0},(0,a.Ko)(t["Cauhoinho"],((n,o)=>((0,a.wg)(),(0,a.iD)("tr",{key:"question-"+e+"sub-"+o},[n.hasOwnProperty("Cauhoicuaphongbankhacdanhgia")?((0,a.wg)(),(0,a.iD)("td",d," Câu "+(0,i.zw)(n["STT"])+" : "+(0,i.zw)(n["Cauhoicuaphongbankhacdanhgia"]),1)):n.hasOwnProperty("Cauhoituhoi")?((0,a.wg)(),(0,a.iD)("td",m," Câu "+(0,i.zw)(n["STT"])+" : "+(0,i.zw)(n["Cauhoituhoi"]),1)):n.hasOwnProperty("Cauhoi")?((0,a.wg)(),(0,a.iD)("td",p," Câu "+(0,i.zw)(n["STT"])+" : "+(0,i.zw)(n["Cauhoi"]),1)):(0,a.kq)("",!0),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.listMarks,((s,i)=>((0,a.wg)(),(0,a.iD)("td",{key:"question-"+e+"-mark-"+i+"-sub-"+o},[(0,a.Wm)(y,{name:"radio-question-"+e+"-mark"+i+"-sub-"+o,value:s.value,modelValue:n["Cautraloi"],"onUpdate:modelValue":t=>n["Cautraloi"]=t,onChange:e=>v.selectMark(t["STT"],s.value)},null,8,["name","value","modelValue","onUpdate:modelValue","onChange"])])))),128))])))),128)):(0,a.kq)("",!0)],64)))),128))])])])}var w=s(65),v={props:["listMarks","listQuestions","listDepartments"],name:"TableSurvey",setup(){},created(){},data(){return{}},methods:{selectMark(t,e){this.updateSelectMark({sttQuestion:t,valueMark:e})},...(0,w.nv)(["updateSelectMark"])}},y=s(89);const C=(0,y.Z)(v,[["render",k]]);var b=C},4824:function(t,e,s){s.r(e),s.d(e,{default:function(){return C}});var a=s(3396),i=s(7139);const n={class:"survey-internal container mx-auto"},o={key:0,class:"inline-block mx-auto mt-5"},l={key:1},u={class:"col-12"},r={class:"text-left mt-4"},c={class:"col-12"},g=(0,a._)("p",{class:"text-left"}," Bạn có góp ý nào để cải thiện sản phẩm / dịch vụ được tốt hơn không? ",-1),h={class:"col-12"};function d(t,e,s,d,m,p){const k=(0,a.up)("lottie-player"),w=(0,a.up)("HeaderComponent"),v=(0,a.up)("TableSurveyComponent"),y=(0,a.up)("Textarea"),C=(0,a.up)("Button");return(0,a.wg)(),(0,a.iD)("div",n,[m.isLoadingPage?((0,a.wg)(),(0,a.iD)("div",o,[(0,a.Wm)(k,{src:"https://assets6.lottiefiles.com/packages/lf20_nvskuoaw.json",class:"customProgress",background:"transparent",style:{width:"300px",height:"300px"},speed:"1",autoplay:""})])):((0,a.wg)(),(0,a.iD)("div",l,[(0,a.Wm)(w),(0,a._)("div",u,[(0,a._)("div",r,(0,i.zw)(p.dataAll["intro"]),1)]),(0,a.Wm)(v,{listMarks:p.listMarks,listQuestions:p.listQuestions,listDepartments:p.listDepartments},null,8,["listMarks","listQuestions","listDepartments"]),(0,a._)("div",c,[g,(0,a.Wm)(y,{autoResize:!0,placeholder:"Nhập góp ý của bạn vào đây...",rows:"5",cols:"30",class:"w-full",modelValue:p.textSuggest,"onUpdate:modelValue":e[0]||(e[0]=t=>p.textSuggest=t)},null,8,["modelValue"])]),(0,a._)("div",h,[(0,a.Wm)(C,{label:"Hoàn tất khảo sát",class:"btn-primary btn-login text-white font-bold mt-4 pt-3 pb-3 pl-8 pr-8 border-round-lg",loading:m.isLoadingButton,onClick:e[1]||(e[1]=t=>p.handleSubmit())},null,8,["loading"])])]))])}s(7658);var m=s(65),p=s(5074),k=s(9529),w={inject:["headerSetting","urlAPI"],name:"SurveyCustomer",components:{HeaderComponent:p.Z,TableSurveyComponent:k.Z},data(){return{isLoadingPage:!1,isLoadingButton:!1,currentPathName:location.pathname}},created(){this.initData()},methods:{handleSubmit(){this.isLoadingButton=!0;let t=this.currentPathName.slice(1);this.lastObjectQuestionSuggest["Cautraloi"]=this.textSuggest;let e=this.listQuestions;e.push(this.lastObjectQuestionSuggest);let s={mode:"cxlandingResponse",link:t,data:e},a=this;this.axios.post(a.urlAPI,s,a.headerSetting).then((function(t){1==t.data.status&&(a.$toast.add({severity:"success",summary:"Thông báo",detail:"Hoàn tất khảo sát!",life:3e3}),localStorage.clear(),window.location.reload())})).catch((t=>{a.$toast.add({severity:"error",summary:"Thông báo",detail:"Lỗi:  !"+t,life:3e3})})).finally((()=>{a.isLoadingButton=!1}))},initData(){this.isLoadingPage=!0;let t=this.currentPathName.slice(1),e=this,s={mode:"cxlandingOpenLink",link:t};e.axios.post(e.urlAPI,s,e.headerSetting).then((function(t){if(200==t.status){let s=t.data.data;e.dataAll=s,e.getListMarks(s.marks),e.lastObjectQuestionSuggest=s.questions[s.questions.length-1],s.questions.pop(),e.getListQuestions(s.questions)}})).catch((t=>{e.$toast.add({severity:"error",summary:"Thông báo",detail:"Lỗi:  !"+t,life:3e3})})).finally((()=>{e.isLoadingPage=!1}))},checkValidLogin(){let t={mode:"cxlandingLogin",token:this.tokenLogin},e=this.axios.post(this.urlAPI,t,this.headerSetting);return e.then((t=>t.data))},...(0,m.nv)(["getListMarks","getListQuestions","getListDepartments","updateListQuestions"])},computed:{listMarks:{get(){return this.$store.state.listMarks}},listQuestions:{get(){return this.$store.state.listQuestions},set(t){this.$store.commit("setValue",{action:"listQuestions",value:t})}},listDepartments:{get(){return this.$store.state.listDepartments},set(t){this.$store.commit("setValue",{action:"listDepartments",value:t})}},selectDepartment:{get(){return this.$store.state.selectDepartment},set(t){this.$store.commit("setValue",{action:"selectDepartment",value:t})}},tokenLogin:{get(){return this.$store.state.tokenLogin},set(t){this.$store.commit("getTokenLogin",t)}},linkInternal:{get(){return this.$store.state.linkInternal},set(t){this.$store.commit("setValue",{action:"linkInternal",value:t})}},linkCustomer:{get(){return this.$store.state.linkCustomer},set(t){this.$store.commit("setValue",{action:"linkCustomer",value:t})}},dataAll:{get(){return this.$store.state.dataAll},set(t){this.$store.commit("setValue",{action:"dataAll",value:t})}},textSuggest:{get(){return this.$store.state.textSuggest},set(t){this.$store.commit("setValue",{action:"textSuggest",value:t})}},lastObjectQuestionSuggest:{get(){return this.$store.state.lastObjectQuestionSuggest},set(t){this.$store.commit("setValue",{action:"lastObjectQuestionSuggest",value:t})}}}},v=s(89);const y=(0,v.Z)(w,[["render",d]]);var C=y}}]);
//# sourceMappingURL=SurveyCustomer.b99137c3.js.map