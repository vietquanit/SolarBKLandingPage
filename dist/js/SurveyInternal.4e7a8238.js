"use strict";(self["webpackChunksolar_bk_landing_page"]=self["webpackChunksolar_bk_landing_page"]||[]).push([[914],{5074:function(t,e,a){a.d(e,{Z:function(){return h}});var s=a(3396);const n={class:"grid"},i=(0,s._)("div",{class:"col-12 flex"},[(0,s._)("img",{src:"https://solarbk.vn/uploads/images/2020/12/01/logo-solarbk.png",class:"rounded d-block align-items-start",alt:"..."})],-1),o=[i];function l(t,e,a,i,l,u){return(0,s.wg)(),(0,s.iD)("div",n,o)}var u={name:"HeaderComponent"},r=a(89);const c=(0,r.Z)(u,[["render",l]]);var h=c},9529:function(t,e,a){a.d(e,{Z:function(){return D}});var s=a(3396),n=a(7139);const i={class:"col-12 overflow-auto"},o={id:"custom-table"},l=(0,s._)("th",null,null,-1),u={key:0,class:"text-left"},r={key:1,class:"text-left"},c={key:2,class:"text-left"},h={key:0},d={key:1},g={key:0,class:"text-left pl-4"},m={key:1,class:"text-left pl-4"},p={key:2,class:"text-left pl-4"};function k(t,e,a,k,v,w){const b=(0,s.up)("RadioButton");return(0,s.wg)(),(0,s.iD)("div",i,[(0,s._)("table",o,[(0,s._)("thead",null,[(0,s._)("tr",null,[l,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.listMarks,((t,e)=>((0,s.wg)(),(0,s.iD)("th",{key:"mark-"+e},(0,n.zw)(t.key),1)))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.listQuestions,((t,e)=>((0,s.wg)(),(0,s.iD)(s.HY,{key:"question-"+e},[(0,s._)("tr",null,[t.hasOwnProperty("Cauhoicuaphongbankhacdanhgia")?((0,s.wg)(),(0,s.iD)("td",u," Câu "+(0,n.zw)(t["STT"])+" : "+(0,n.zw)(t["Cauhoicuaphongbankhacdanhgia"]),1)):t.hasOwnProperty("Cauhoituhoi")?((0,s.wg)(),(0,s.iD)("td",r," Câu "+(0,n.zw)(t["STT"])+" : "+(0,n.zw)(t["Cauhoituhoi"]),1)):t.hasOwnProperty("Cauhoi")?((0,s.wg)(),(0,s.iD)("td",c," Câu "+(0,n.zw)(t["STT"])+" : "+(0,n.zw)(t["Cauhoi"]),1)):(0,s.kq)("",!0),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.listMarks,((a,n)=>((0,s.wg)(),(0,s.iD)(s.HY,{key:"question-"+e+"-mark-"+n},[0===t["Cauhoinho"].length?((0,s.wg)(),(0,s.iD)("td",h,[(0,s.Wm)(b,{name:"radio-question-"+e+"-mark"+n,value:a.value,modelValue:t["Cautraloi"],"onUpdate:modelValue":e=>t["Cautraloi"]=e,onChange:e=>w.selectMark(t["STT"],a.value)},null,8,["name","value","modelValue","onUpdate:modelValue","onChange"])])):((0,s.wg)(),(0,s.iD)("td",d))],64)))),128))]),t["Cauhoinho"].length>0?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(t["Cauhoinho"],((i,o)=>((0,s.wg)(),(0,s.iD)("tr",{key:"question-"+e+"sub-"+o},[i.hasOwnProperty("Cauhoicuaphongbankhacdanhgia")?((0,s.wg)(),(0,s.iD)("td",g," Câu "+(0,n.zw)(i["STT"])+" : "+(0,n.zw)(i["Cauhoicuaphongbankhacdanhgia"]),1)):i.hasOwnProperty("Cauhoituhoi")?((0,s.wg)(),(0,s.iD)("td",m," Câu "+(0,n.zw)(i["STT"])+" : "+(0,n.zw)(i["Cauhoituhoi"]),1)):i.hasOwnProperty("Cauhoi")?((0,s.wg)(),(0,s.iD)("td",p," Câu "+(0,n.zw)(i["STT"])+" : "+(0,n.zw)(i["Cauhoi"]),1)):(0,s.kq)("",!0),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.listMarks,((a,n)=>((0,s.wg)(),(0,s.iD)("td",{key:"question-"+e+"-mark-"+n+"-sub-"+o},[(0,s.Wm)(b,{name:"radio-question-"+e+"-mark"+n+"-sub-"+o,value:a.value,modelValue:i["Cautraloi"],"onUpdate:modelValue":t=>i["Cautraloi"]=t,onChange:e=>w.selectMark(t["STT"],a.value)},null,8,["name","value","modelValue","onUpdate:modelValue","onChange"])])))),128))])))),128)):(0,s.kq)("",!0)],64)))),128))])])])}var v=a(65),w={props:["listMarks","listQuestions","listDepartments"],name:"TableSurvey",setup(){},created(){},data(){return{}},methods:{selectMark(t,e){this.updateSelectMark({sttQuestion:t,valueMark:e})},...(0,v.nv)(["updateSelectMark"])}},b=a(89);const y=(0,b.Z)(w,[["render",k]]);var D=y},3888:function(t,e,a){a.r(e),a.d(e,{default:function(){return f}});var s=a(3396),n=a(7139);const i={class:"survey-internal container mx-auto"},o={key:0,class:"inline-block mx-auto mt-5"},l={key:1},u={class:"col-12"},r={class:"text-left mt-4"},c={class:"col-4 mt-6"},h={key:0,class:"department"},d={class:"department-item"},g={class:"col-12"},m=(0,s._)("p",{class:"text-left"}," Bạn có góp ý nào để cải thiện sản phẩm / dịch vụ được tốt hơn không? ",-1),p={class:"col-12"};function k(t,e,a,k,v,w){const b=(0,s.up)("lottie-player"),y=(0,s.up)("HeaderComponent"),D=(0,s.up)("Dropdown"),C=(0,s.up)("TableSurveyComponent"),f=(0,s.up)("Textarea"),S=(0,s.up)("Button");return(0,s.wg)(),(0,s.iD)("div",i,[v.isLoadingPage?((0,s.wg)(),(0,s.iD)("div",o,[(0,s.Wm)(b,{src:"https://assets6.lottiefiles.com/packages/lf20_nvskuoaw.json",class:"customProgress",background:"transparent",style:{width:"300px",height:"300px"},speed:"1",autoplay:""})])):((0,s.wg)(),(0,s.iD)("div",l,[(0,s.Wm)(y),(0,s._)("div",u,[(0,s._)("div",r,(0,n.zw)(w.dataAll["intro"]),1)]),(0,s._)("div",c,[(0,s.Wm)(D,{modelValue:w.selectDepartment,"onUpdate:modelValue":e[0]||(e[0]=t=>w.selectDepartment=t),options:w.listDepartments,optionLabel:"name",placeholder:"Lựa chọn phòng ban.",class:"w-full text-left border-2",onChange:e[1]||(e[1]=t=>w.onChangeDepartment())},{value:(0,s.w5)((t=>[t.value?((0,s.wg)(),(0,s.iD)("div",h,[(0,s._)("div",null,"Bạn thuộc phòng ban: "+(0,n.zw)(t.value.name),1)])):(0,s.kq)("",!0)])),option:(0,s.w5)((t=>[(0,s._)("div",d,[(0,s._)("div",null,"Bạn thuộc phòng ban: "+(0,n.zw)(t.option.name),1)])])),_:1},8,["modelValue","options"])]),(0,s.Wm)(C,{listMarks:w.listMarks,listQuestions:w.listQuestions,listDepartments:w.listDepartments},null,8,["listMarks","listQuestions","listDepartments"]),(0,s._)("div",g,[m,(0,s.Wm)(f,{autoResize:!0,placeholder:"Nhập góp ý của bạn vào đây...",rows:"5",cols:"30",class:"w-full",modelValue:w.textSuggest,"onUpdate:modelValue":e[2]||(e[2]=t=>w.textSuggest=t)},null,8,["modelValue"])]),(0,s._)("div",p,[(0,s.Wm)(S,{label:"Hoàn tất khảo sát",class:"btn-primary btn-login text-white font-bold mt-4 pt-3 pb-3 pl-8 pr-8 border-round-lg",loading:v.isLoadingButton,onClick:e[3]||(e[3]=t=>w.handleSubmit())},null,8,["loading"])])]))])}a(7658);var v=a(65),w=a(5074),b=a(9529),y={inject:["headerSetting","urlAPI"],name:"SurveyInternal",components:{HeaderComponent:w.Z,TableSurveyComponent:b.Z},data(){return{isLoadingPage:!1,isLoadingButton:!1,currentPathName:location.pathname}},created(){this.isLoadingPage=!0;let t=this;t.checkValidLogin().then((function(e){0==e.status?t.$router.push({path:"/login"}):t.initData()})).catch((e=>{t.$router.push({path:"/login"}),t.$toast.add({severity:"error",summary:"Thông báo",detail:"Lỗi:  !"+e,life:3e3})}))},methods:{handleSubmit(){this.isLoadingButton=!0;let t=this.currentPathName.slice(1),e=this;this.lastObjectQuestionSuggest["Cautraloi"]=this.textSuggest;let a=this.listQuestions;a.push(this.lastObjectQuestionSuggest);let s={mode:"cxlandingResponse",link:t,data:a};e.axios.post(e.urlAPI,s,e.headerSetting).then((function(t){1==t.data.status&&(e.$toast.add({severity:"success",summary:"Thông báo",detail:"Hoàn tất khảo sát!",life:3e3}),localStorage.clear(),window.location.reload())})).catch((t=>{e.$toast.add({severity:"error",summary:"Thông báo",detail:"Lỗi:  !"+t,life:3e3})})).finally((()=>{e.isLoadingButton=!1}))},initData(){let t=this.currentPathName.slice(1),e=this,a={mode:"cxlandingOpenLink",link:t};e.axios.post(e.urlAPI,a,e.headerSetting).then((function(t){if(200==t.status){let a=t.data.data;e.dataAll=a,e.getListMarks(a.marks),e.getListDepartments(a.questions)}})).catch((t=>{e.$toast.add({severity:"error",summary:"Thông báo",detail:"Lỗi:  !"+t,life:3e3})})).finally((()=>{e.isLoadingPage=!1}))},checkValidLogin(){let t={mode:"cxlandingLogin",token:this.tokenLogin},e=this.axios.post(this.urlAPI,t,this.headerSetting);return e.then((t=>t.data))},onChangeDepartment(){this.listQuestions=[],this.updateListQuestions(this.selectDepartment)},...(0,v.nv)(["getListMarks","getListQuestions","getListDepartments","updateListQuestions"])},computed:{listMarks:{get(){return this.$store.state.listMarks}},listQuestions:{get(){return this.$store.state.listQuestions},set(t){this.$store.commit("setValue",{action:"listQuestions",value:t})}},listDepartments:{get(){return this.$store.state.listDepartments},set(t){this.$store.commit("setValue",{action:"listDepartments",value:t})}},selectDepartment:{get(){return this.$store.state.selectDepartment},set(t){this.$store.commit("setValue",{action:"selectDepartment",value:t})}},tokenLogin:{get(){return this.$store.state.tokenLogin},set(t){this.$store.commit("getTokenLogin",t)}},linkInternal:{get(){return this.$store.state.linkInternal},set(t){this.$store.commit("setValue",{action:"linkInternal",value:t})}},linkCustomer:{get(){return this.$store.state.linkCustomer},set(t){this.$store.commit("setValue",{action:"linkCustomer",value:t})}},dataAll:{get(){return this.$store.state.dataAll},set(t){this.$store.commit("setValue",{action:"dataAll",value:t})}},textSuggest:{get(){return this.$store.state.textSuggest},set(t){this.$store.commit("setValue",{action:"textSuggest",value:t})}},lastObjectQuestionSuggest:{get(){return this.$store.state.lastObjectQuestionSuggest},set(t){this.$store.commit("setValue",{action:"lastObjectQuestionSuggest",value:t})}}}},D=a(89);const C=(0,D.Z)(y,[["render",k]]);var f=C}}]);
//# sourceMappingURL=SurveyInternal.4e7a8238.js.map