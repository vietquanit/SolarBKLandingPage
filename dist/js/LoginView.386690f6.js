"use strict";(self["webpackChunksolar_bk_landing_page"]=self["webpackChunksolar_bk_landing_page"]||[]).push([[700],{5015:function(e,t,s){s.r(t),s.d(t,{default:function(){return q}});var a=s(3396),o=s(9242),n=s(7139);const l=e=>((0,a.dD)("data-v-7103e4ef"),e=e(),(0,a.Cn)(),e),i={class:"login container mx-auto"},d={class:"col-12"},r={class:"box-login flex col-12 sm:col-10 md:col-8 lg:col-6 xl:col-4 flex-column mt-5 md:mt-0"},u={class:"input-login border-round-md"},m={class:"col-10 mx-auto"},c=l((()=>(0,a._)("h3",{class:"uppercase text-center color-primary text-3xl"}," Đăng nhập ",-1))),p={class:"field grid mb-4"},g={class:"col-12 md:col-12"},v={key:0,class:"p-error text-left block pt-2"},h={class:"field grid pb-4"},$={class:"col-12 md:col-12"},b={key:0,class:"p-error text-left block pt-2"},w={class:"col-10 sm:col-8 md:col-8 mx-auto"};function f(e,t,s,l,f,k){const _=(0,a.up)("HeaderComponent"),x=(0,a.up)("InputText"),y=(0,a.up)("Button");return(0,a.wg)(),(0,a.iD)("div",i,[(0,a.Wm)(_),(0,a._)("div",d,[(0,a._)("div",r,[(0,a._)("form",{onSubmit:t[2]||(t[2]=(0,o.iM)((t=>k.handleSubmit(!e.v$.$invalid)),["prevent"])),class:"p-fluid"},[(0,a._)("div",u,[(0,a._)("div",m,[c,(0,a._)("div",p,[(0,a._)("div",g,[(0,a.Wm)(x,{id:"username",placeholder:"Nhập Username....",type:"text",class:(0,n.C_)(["w-full p-inputtext-lg border-round-md",{"p-invalid":e.v$.username.$invalid&&f.submitted}]),modelValue:e.v$.username.$model,"onUpdate:modelValue":t[0]||(t[0]=t=>e.v$.username.$model=t),disabled:f.isLoading},null,8,["modelValue","class","disabled"]),e.v$.username.$invalid&&f.submitted||e.v$.username.$pending.$response?((0,a.wg)(),(0,a.iD)("small",v,(0,n.zw)(e.v$.username.required.$message.replace("Value","Username")),1)):(0,a.kq)("",!0)])]),(0,a._)("div",h,[(0,a._)("div",$,[(0,a.Wm)(x,{id:"password",placeholder:"Nhập password....",type:"password",class:(0,n.C_)(["w-full p-inputtext-lg border-round-md",{"p-invalid":e.v$.password.$invalid&&f.submitted}]),modelValue:e.v$.password.$model,"onUpdate:modelValue":t[1]||(t[1]=t=>e.v$.password.$model=t),disabled:f.isLoading},null,8,["modelValue","class","disabled"]),e.v$.password.$invalid&&f.submitted||e.v$.password.$pending.$response?((0,a.wg)(),(0,a.iD)("small",b,(0,n.zw)(e.v$.password.required.$message.replace("Value","Password")),1)):(0,a.kq)("",!0)])])])]),(0,a._)("div",w,[(0,a.Wm)(y,{label:"Đăng nhập",class:"btn-primary btn-login text-white font-bold mt-4 pt-3 pb-3 pl-8 pr-8 border-round-lg",type:"submit",loading:f.isLoading},null,8,["loading"])])],32)])])])}s(7658);var k=s(3053),_=s(9117),x=s(65),y=s(5074),L={inject:["headerSetting","urlAPI"],name:"LoginView",components:{HeaderComponent:y.Z},setup:()=>({v$:(0,k.Xw)()}),data(){return{isLoading:!1,submitted:!1}},validations(){return{username:{required:_.C1},password:{required:_.C1}}},created(){},methods:{login(){let e=this;e.isLoading=!0;let t={mode:"cxlandingGetToken",username:e.username,password:e.password};e.axios.post(e.urlAPI,t,e.headerSetting).then((function(t){1==t.data.status?(e.tokenLogin=t.data.token,e.authenticated=!0,e.$toast.add({severity:"success",summary:"Thông báo",detail:"Login thành công",life:3e3}),e.$router.push({path:"input-form"})):e.$toast.add({severity:"error",summary:"Thông báo",detail:"Sai tài khoản hoặc mật khẩu",life:3e3})})).catch((t=>{e.tokenLogin="",e.authenticated=!1,e.$toast.add({severity:"error",summary:"Thông báo",detail:"Lỗi: "+t,life:3e3})})).finally((()=>{e.isLoading=!1}))},...(0,x.nv)(["setValue"]),handleSubmit(e){this.submitted=!0,e&&this.login()}},computed:{username:{get(){return this.$store.state.username},set(e){this.$store.commit("setValue",{action:"username",value:e})}},password:{get(){return this.$store.state.password},set(e){this.$store.commit("setValue",{action:"password",value:e})}},tokenLogin:{get(){return this.$store.state.tokenLogin},set(e){this.$store.commit("setValue",{action:"tokenLogin",value:e})}},authenticated:{get(){return this.$store.state.authenticated},set(e){this.$store.commit("setValue",{action:"authenticated",value:e})}}}},V=s(89);const C=(0,V.Z)(L,[["render",f],["__scopeId","data-v-7103e4ef"]]);var q=C}}]);
//# sourceMappingURL=LoginView.386690f6.js.map